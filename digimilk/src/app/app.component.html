<ion-app>
  <ion-split-pane contentId="main-content">
    <ion-menu *ngIf="showMenuBar" side="start" menuId="main-menu" contentId="main-content">
      <ion-header>
        <ion-toolbar>
          <ion-title>Menu</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeMenu()">
              <ion-icon class="menu-cross" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
  
      <ion-content class="custom-scrollbar">
          <!-- Search Bar -->
          <div class="menu-bar" >
            <!-- Search Bar -->
            <ion-searchbar [(ngModel)]="searchQuery" (ionInput)="performSearch()" placeholder="Search"></ion-searchbar>
            </div>
            <!-- Notifications Icon -->
            <div class="notifications">
              <ion-icon name="notifications-outline" (click)="clearNotifications()"></ion-icon>
              <span class="notification-badge" *ngIf="notifications > 0">{{ notifications }}</span>
            </div>
    <!-- menu list -->
        <ion-list>
          <!-- Iterate over menu items -->
          <ng-container *ngFor="let item of filteredMenuItems">
            <ion-item (click)="item.isDropdown ? toggleDropdown(item.key) : navigateTo(item.link)">
              <ion-icon slot="start" [name]="item.icon"></ion-icon>
              <ion-label>{{ item.label }}</ion-label>
              <!-- Chevron icon for dropdown items -->
              <ion-icon *ngIf="item.isDropdown" slot="end" [name]="dropdowns[item.key] ? 'chevron-up' : 'chevron-down'"></ion-icon>
            </ion-item>
    
            <!-- Render dropdown items -->
            <ng-container *ngIf="item.isDropdown && dropdowns[item.key]">
              <ion-list>
                <ion-item *ngFor="let subItem of dropdownItems[item.key]" [routerLink]="subItem.link" routerDirection="forward" (click)="closeMenu()">
                  <ion-icon slot="start" name="chevron-forward-outline"></ion-icon>
                  <ion-label>{{ subItem.label }}</ion-label>
                </ion-item>
              </ion-list>
            </ng-container>
          </ng-container>
        </ion-list>
      </ion-content>
    
    </ion-menu>
    
    <!-- <app-header></app-header> Header added here -->
    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
