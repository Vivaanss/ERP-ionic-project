<ion-app>
  <ion-split-pane contentId="main-content">
    <ion-menu *ngIf="showMenuBar" side="start" menuId="main-menu" contentId="main-content">
      <ion-header>
        <ion-toolbar>
          <h1> <strong>Menu</strong></h1>
          <!-- <img src="../../../assets/digimilk-logo/digimilk-logo.png" alt="Logo" class="logo"/> -->
          <ion-buttons slot="end">
            <ion-button (click)="closeMenu()">
              <ion-icon class="menu-cross" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content class="custom-scrollbar">
        <!-- Search Bar -->
        <div class="menu-bar">
          <ion-searchbar [(ngModel)]="searchQuery" (ionInput)="performSearch()" placeholder="Search"></ion-searchbar>
        </div>

        <!-- Menu List -->
        <ion-list>
          <ng-container *ngFor="let item of filteredMenuItems">
            <ion-item (click)="item.isDropdown ? toggleDropdown(item.key) : navigateTo(item.link)">
              <ion-icon slot="start" [name]="item.icon"></ion-icon>
              <ion-label>{{ item.label }}</ion-label>
              <!-- Chevron icon for dropdown items -->
              <ion-icon *ngIf="item.isDropdown" slot="end" [name]="dropdowns[item.key] ? 'chevron-up' : 'chevron-down'"></ion-icon>
            </ion-item>

            <!-- Render dropdown items -->
            <ng-container *ngIf="item.isDropdown && dropdowns[item.key]">
              <ion-list>
                <ion-item *ngFor="let subItem of dropdownItems[item.key]" [routerLink]="subItem.link" routerDirection="forward" (click)="closeMenu()">
                  <ion-icon slot="start" name="chevron-forward-outline"></ion-icon>
                  <ion-label>{{ subItem.label }}</ion-label>
                </ion-item>
              </ion-list>
            </ng-container>
          </ng-container>
        </ion-list>
      </ion-content>
    </ion-menu>

    <!-- Header added here -->
    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
